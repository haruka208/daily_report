## ・取り組んだ課題一覧
- 現場で使えるDjangoの教科書

## ・わかったこと

#### モデル（Model）
- Django のモデルには、自動で「マネージャ（Manager）」というものが付く。デフォルト名 が`objects` ではデータベース操作のための窓口みたいなもの
  - `.all()`	すべてのレコードを取得
  - `.filter(条件)`	条件に合うレコードを抽出（複数可）
  - `.get(条件)`	条件に完全一致するレコードを1件だけ取得
   - `.create(データ)`	新しいレコードを作成
  - `.count()`	レコードの件数を数える
  - `.exists()`	存在するかどうかを真偽値で返す
  - `order_by()` 検索結果をソート。指定するフィールドの前に`-`をつけると逆順
  - `aggregate()` 集計関数を使ってレコードの集計値を求める
- リレーション先のモデルを使った条件検索：検索条件のキーワード引数として`__`でフィールド名と関連先のモデルのフィールド名を繋ぐ（検索時に自動的にJOINされる）
- Djangoのシェル（`python manage.py shell`）では、生のSQL は直接使えない
- `settings.py`の`DATABASES`に`'ATOMIC_REQUESTS' : True,`と記載することで、トランザクションの有効範囲をビューの開始から終了までにする（ただし性能面での注意が必要）

#### Userモデルの拡張
- 抽象クラス`AbstractBaseUser` `AbstractUser`を継承して`settings.py`に`AUTH_USER_MODEL = 'accounts.CustomUser'`を設定する
- すでに本番稼働している場合は、別モデルを作成して`OneToOneField`で関連させる方法がよく使われる（Userモデルのクラスを入れ替えると関連しているモデルのスキーマも全て変わってしまい、影響範囲が大きくなってしまうから）

## ・感じたこと
- 夜早く寝て早めに起きるのはよかったと思う。
- 遠出だったので時間がなく仕方なかったが、来週からは落ち着いて学習宇治かんを確保できそうなのでじっくり取り組みたい


## ・次やること
- 現場で使えるDjangoの教科書

## ・学習時間
- today:  2.25h
- total  : 705h


