## ・取り組んだ課題一覧
- 現場で使えるDjangoの教科書

## ・わかったこと

### フォーム（Form）
- Djngoのフォームは、HTMLのfrom要素内の入力項目をフィールド(=クラス変数)として持つクラスのことを指す
- フォームの役割
  - ユーザーの入力データを保持する
  - 入力データのバリデーションを行う
  - テンプレートでHTMLのfrom要素の入力項目やエラーメッセージを出力



- フォーム利用のメリット
  - ユーザの入力データを型変換してくれる
  - バリデーションをビューから分離できる
  - 入力データやエラーメッセージをテンプレートで簡単に表示できる
  - 認証系のよくあるフォームはDjangoが用意してくれている

- フィールドの定義
  - Field：データの型（文字列、数値など）
  - Widget：その表示方法（どう入力させるか）
    - 利用するFieldクラスによってデフォルトで適用されるウィジェットが決まっているが、Fieldクラスの`widget`属性を変更することで変更もできる

- バリデーションメソッドの定義
  - `clean_<フィールド名>` 
    - フィールド単体のバリデーション
    - バリデーションOKの場合に検証済みデータをreturnする

  - `clean` 
    - 複数フィールド間の相関チェックやデーターベースとの整合性チェック
    - バリデーションOKの場合に検証済みデータをreturnする必要はない

- `%(...)s` Django特有（Pythonの古い書式）のプレースホルダの書き方で、フォームやモデルのエラーメッセージなどで使える

- フォームのビューでの利用例

  - リクエストオブジェクトの入力データを使ってフォームオブジェクトを作成

  - 入力データをバリデーション

  - テンプレートシステムにフォームオブジェクトを渡す
 - フォームを使用しない場合
   - 取り出した値は全て`str`型のため、型変換が必要
```
username = request.POST.get('username')
password = request.POST.get('password')
...
```
- フォームを使用した場合
```
form = LoginForm(request.POST)
is_valid = form.is_valid()
if not is_valid:
    return TemplateResponse(request, 'accounts/login.html', {'form':form}
```
- テンプレートでの利用例
  -  `{{ form }}` でフォームオブジェクトを変数表示し、入力データがセットされた入力項目を全て出力できる
  - CSSのスタイルなど細かい装飾が施せないため、実際にはフォームオブジェクトの要素をforタグでループさせてそれぞれのフィールドのスタイルを調整することが多い




## ・感じたこと
- 出張中で落ち着かない。早く帰って落ち着いて勉強がしたい


## ・次やること
- 現場で使えるDjangoの教科書

## ・学習時間
- today:  2.5h
- total  : 707.5h


