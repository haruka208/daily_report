## ・取り組んだ課題一覧
- Django チュートリアル3まで


## ・わかったこと
####  views.py（URLconf）
- リクエストに対して何を返すか定義
- リクエストされたページのコンテンツを含む HttpResponse オブジェクトを返すことと、Http404 のような例外の送出、２つの役割がある。
- 見た目は`templates`フォルダに分離。「名前空間」を使用してテンプレート名を他と被らないように整理する。
- テンプレートの呼び出し方
  - `loader.get_template()`を使ってテンプレートを呼び出し`HttpResponse`を返す方法
  - `render()`を使う方法（推奨）。第1引数として request オブジェクトを、第2引数としてテンプレート名を、第3引数（任意）として辞書を受け取る。
- {{ 変数 }}、{% 処理 %}
- 404 エラーの送出方法
  - `try-except`を使って`Http404`を`raise`する方法
  - `get_object_or_404`を使う方法。Django モデルを第一引数に、検索条件をキーワード引数として第二引数以降に受け取る
- テンプレート内のハードコードされたurlを `{％url％}` を使用して削除


####  urls.py
- このURLにアクセスされたら、どの関数（ビュー）を動かすか定義
- `include`関数と例外の`admin.site.urls`
- 引数`path`、`view`、`kwards`、`name`
- アプリケーションの名前空間を設定して複数アプリのURL 名を区別する

####  settings.py
- 日本国内の開発・運用の場合　`TIME_ZONE = 'Asia/Tokyo'`に修正
- ` INSTALLED_APPS` 　Djangoにアプリの存在を伝えるリスト

####  models.py
- アプリ内で扱うデータベースの設計図（モデル）を定義
- 第一引数に人間可読な名前は指定してもしなくてもOK

- Djangoにモデルに変更があったことを伝え、そして変更を マイグレーション の形で保存
$ `python manage.py makemigrations polls`

- モデルのテーブルをデータベースに作成
$ `python manage.py migrate`


#### シェルでのDB操作・ORM

- settings.pyを読み込んだ状態で Python シェルを起動する。Django の機能（モデルや設定など）を使えるようにするため。　`python manage.py shell`
- `__str__() `メソッドの追加
```
class Question(models.Model):
  question_text = models.CharField(max_length=200)
  pub_date = models.DateTimeField("datepublished")

  🌟def __str__(self):
    return self.question_text
# クラスのオブジェクトが文字列に変換されるときに、フィールド名の値を返す
# デフォルトでは<Question: Question object (1)>のように中身が見えないオブジェクト名のため

```
-  `q = Question.objects.get(pk=1)` 主キー（id=1）のレコードを1件だけ取得
- `q.choice_set.all()`  Question にひもづいた Choice を全部取得
- `q.choice_set.create(choice_text="Not much", votes=0)` ある質問（q）に対して選択肢（Choice）を追加
- `Choice.objects.filter(question__pub_date__year=current_year)` pub_date の年が current_year である Question に紐づく Choice を検索。`__`でForeignKey（外部キー）でつながった別のモデルの中のフィールドにアクセスできる。

#### admin.py
- アプリを作成したら、管理画面に表示させるために記載する


## ・感じたこと
- だんだん難しくなってくるけど楽しい。
- 体力つけるために週末だけでも運動もした方が良さそう。


## ・次やること
- Django チュートリアル4〜


## ・学習時間
- today:  5.5h
- total  : 684.25h
