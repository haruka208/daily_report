## ・取り組んだ課題一覧
- 現場で使えるDjangoの教科書

## ・わかったこと

### 設定ファイル（settings.py）
- 設定ファイルにはプロジェクト固有の設定を記述し、ビューやモデルからは設定オブジェクト（django.conf.settings）を参照する
- `INSTALLED_APPS`
   - インストールするアプリケーションをリスト形式で列挙する
- `DEBUG` 
  - 開発モードと本番モードを切り替える
  - 本番稼働時には必ずFalseに設定
- 静的ファイル関連の設定
  - リバースプロキシを配置し、静的ファイルかそうでないかでリクエストを振り分けるようにすることが多い
  - `STATIC_URL` 
     - 静的ファイルのURL（Web上でどう見えるか）を表す文字列
     - `http://example.com/static/style.css` のようになる
  - `STATICFILES_DIRS` 
    - プロジェクト内の静的ファイルの置き場
  - `STATIC_ROOT` 
    - リバースプロキシで静的ファイルを配信する場合の配信元ディレクトリ
    - `collectstatic`コマンドで静的ファイルを集約する際のコピー先
- メディアファイル関連の設定
  - ユーザーがアプリケーションを利用してアップロードする画像やPDFなどのファイルを「メディアファイル」という
   - `MEDIA_URL` メディアファイルのパスを会え合わすURL（の一部）
   - `MEDIA_ROOT` メディアファイルのアップロード先ディレクトリ
- `DATABASES` データベースの接続やその他オプションに関する設定
-  `LOGGING` ログ出力に関する設定
- `TEMPLATES` テンプレートに関する設定
- `LANGUAGE_CODE` 画面に表示されるメッセージ、管理サイトの表示言語の設定
- `TIME_ZONE`
  - 時刻を表示する際のタイムゾーンを指定
  -  `USE_TZ = True`となっていないと反映されない
  - Django内部ではすべてUTCで扱う（保存もUTC）
  - ユーザーに表示するときは `TIME_ZONE` で指定されたタイムゾーン（`Asia/Tokyo`など）に変換して見せてくれる
- `MIDDLEWARE` 有効にしたいミドルウェアを記述
- `ALLOWED_HOSTS` 
   - Djangoサイトを配信するときのホストを指定
   - `DEBUG`が`True`の時設定が必要になる
  - `SECRET_KEY` Django内部で暗号署名やハッシュ生成時に利用されるシークレットな文字列
- `SITE_ID` 動作させているDjangoプロジェクトを識別するためのID
- 個人の開発環境の設定を`local_settings.py`に分ける or  各環境（ローカル/テスト/本番）に合わせた設定ファイルを用意する
- シークレットな変数は`.env`ファイルに書く🤫
### データベースのマイグレーション
- `makemigration` 
  - 変更差分をチェックしてマイグレーションファイルを作成する
  - 引数なしでコマンドを実行すると、設定ファイルの`INSTALLED_APPS`に登録された全てのアプリケーションに対して処理が行われる
  - `migrations`ファイル内に作成される
  - 任意の名前は`--name`で指定、ローカル環境用の設定ファイルを利用する場合は`--settings`で指定
- `migrate`
  - マイグレーションファイルの内容をデータベースに反映してテーブルを作成・変更する
  - 引数なしで実行すると、設定ファイルの`INSTALLED_APPS` に登録された全てのアプリケーションに対して処理が行われる
 - `showmigrations` 
   - `makemigrations`で生成されたマイグレーションファイルがどこまでmigrateで適用されているか確認できる
   - この履歴を使ってリバースマイグレーションすることができる
### 開発用Webサーバ(`runserver`)を起動
- 本番環境でDjangoプロジェクトをWebアプリケーションとして動作させるには、WebサーバとWSGIサーバ(orASGIサーバ)が必要
- 開発時はWebサーバとWSGIサーバ(orASGIサーバ)の代わりに`runserver`を使用して動作検証する(本番環境では使わない）
- `runserver`には自動リロード機能、静的ファイルの自動配信機能(`collectstatic`実行の必要なし)がある
- IPアドレスとポート番号を省略した場合、`127:0.0.1`（自分自身を示す特別なアドレス）とデフォルトポート番号の`8000`が使われる


## ・感じたこと
- 最近早く寝る習慣がついて、勉強時間もそれに伴って短くなってしまっているが、早く寝ること自体はいいことだと感じる。今日も早めに起きれた。
- もう少しやれたと感じるが、時間は限られているので仕方ない


## ・次やること
- 現場で使えるDjangoの教科書

## ・学習時間
- today:  6.25h
- total  : 720.75h 


